{"version":3,"sources":["create_test.js"],"names":["before","t","console","log","start","beforeEach","db","context","User","require","user_1","name","save","result","pass"],"mappings":";;AAAA;;;;AACA;;;;AACA;;AAGA;;;;;AAFA;;AAMA,cAAKA,MAAL,CAAY,cAAZ;AAAA,uDAA4B,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAC1BC,oBAAQC,GAAR,CAAY,6BAAZ;AAD0B;AAAA,mBAEpB,wBAAcC,KAAd,EAFoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA5B;;AAAA;AAAA;AAAA;AAAA;;AAKA,cAAKC,UAAL;AAAA,wDAAiB,kBAAOJ,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACfC,oBAAQC,GAAR,CAAY,yBAAZ;AADe;AAAA,mBAEE,kCAFF;;AAAA;AAETG,cAFS;;AAGfJ,oBAAQC,GAAR,CAAY,wBAAZ;AACAF,cAAEM,OAAF,CAAUD,EAAV,GAAeA,EAAf;;AAJe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAAA;AAAA;AAAA;AAAA;;AAOA,mBAAK,mBAAL;AAAA,wDAA0B,kBAAOL,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACxBC,oBAAQC,GAAR,CAAY,kBAAZ;AACQG,cAFgB,GAETL,EAAEM,OAFO,CAEhBD,EAFgB;AAGlBE,gBAHkB,GAGXC,QAAQ,gBAAR,CAHW;AAKlBC,kBALkB,GAKT,IAAIF,IAAJ,CAAS;AACtBG,oBAAM;AADgB,aAAT,CALS;;;AASxBT,oBAAQC,GAAR,CAAY,sBAAZ;AACA;AACA;AACAD,oBAAQC,GAAR,CAAYO,MAAZ;AAZwB;AAAA,mBAalBA,OAAOE,IAAP,EAbkB;;AAAA;AAcxBV,oBAAQC,GAAR,CAAY,QAAZ;AACAD,oBAAQC,GAAR,CAAYU,MAAZ;AACAZ,cAAEa,IAAF;AACA;AACA;AACA;AACA;;AApBwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1B;;AAAA;AAAA;AAAA;AAAA","file":"create_test.js","sourcesContent":["import test from 'ava';\nimport mongoose from 'mongoose';\nimport { MongoDBServer } from 'mongomem';\n// import User from '../../src/user';\n\nimport {\n  createMongoose\n} from '../test_helper';\n\ntest.before('start server', async t => {\n  console.log('await MongoDBServer.start()');\n  await MongoDBServer.start();\n})\n\ntest.beforeEach( async (t) => {\n  console.log('createMongoose() before');\n  const db = await createMongoose();\n  console.log('createMongoose() after');\n  t.context.db = db;\n});\n\ntest('Creating records ', async (t) => {\n  console.log('Creating records');\n  const { db } = t.context;\n  const User = require('../../src/user');\n\n  const user_1 = new User({\n    name: 'user_1',\n  });\n\n  console.log('user_1.save() before');\n  // console.log(user_1.save);\n  // console.log(user_1.save.toString());\n  console.log(user_1);\n  await user_1.save();\n  console.log('result');\n  console.log(result);\n  t.pass();\n  // const result = await user_1.save();\n  //console.log(result);\n  // console.log('user_1.save() afte');\n  // t.true( !user_1.isNew, 'user\\'s `isNew` flag is false after a save' );\n});\n"]}