{"version":3,"sources":["create_test.js"],"names":["before","t","start","beforeEach","db","Mongoose","connect","getConnectionString","name","modelNames","model","schema","context","deepEqual"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AAEA,cAAKA,MAAL,CAAY,cAAZ,EAA4B,MAAMC,CAAN,IAAW;AACrC,QAAM,wBAAcC,KAAd,EAAN;AACD,CAFD;;AAIA,cAAKC,UAAL,CAAiB,MAAOF,CAAP,IAAa;AAC5B,QAAMG,KAAK,IAAI,mBAASC,QAAb,EAAX;AACA,QAAMD,GAAGE,OAAH,EAAW,MAAM,wBAAcC,mBAAd,EAAjB,EAAN;;AAEA,OAAK,MAAMC,IAAX,IAAmB,mBAASC,UAAT,EAAnB,EAA0C;AACxCL,OAAGM,KAAH,CAASF,IAAT,EAAe,mBAASE,KAAT,CAAeF,IAAf,EAAqBG,MAApC;AACD;;AAEDV,IAAEW,OAAF,CAAUR,EAAV,GAAeA,EAAf;AACD,CATD;;AAWA,mBAAK,6BAAL,EAAqCH,CAAD,IAAO;AACzCA,IAAEY,SAAF,CAAY,CAAC,CAAD,EAAI,CAAJ,CAAZ,EAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB,EAA4B,6BAA5B;AACD,CAFD","file":"create_test.js","sourcesContent":["import test from 'ava';\nimport mongoose from 'mongoose';\nimport { MongoDBServer } from 'mongomem';\n\ntest.before('start server', async t => {\n  await MongoDBServer.start();\n})\n\ntest.beforeEach( async (t) => {\n  const db = new mongoose.Mongoose();\n  await db.connect(await MongoDBServer.getConnectionString());\n\n  for (const name of mongoose.modelNames()) {\n    db.model(name, mongoose.model(name).schema);\n  }\n\n  t.context.db = db;\n});\n\ntest('Check two arrays are equal ', (t) => {\n  t.deepEqual([1, 2], [1, 2], ' two arrays are deep equal ');\n});"]}