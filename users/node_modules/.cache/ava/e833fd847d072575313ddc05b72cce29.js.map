{"version":3,"sources":["delete_test.js"],"names":["createUser","user_1","name","save","before","t","after","always","beforeEach","connection","collections","users","drop","serial","newUser","remove","findOne","queriedUser","is","pass"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAKA,SAASA,UAAT,GAAsB;AACpB,MAAMC,SAAS,mBAAS;AACtBC,UAAM;AADgB,GAAT,CAAf;AAGA,SAAOD,OAAOE,IAAP,EAAP;AACD;;AAED,cAAKC,MAAL,CAAY,qBAAZ;AAAA,uDAAmC,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAC3B,kCAAgB,YAAhB,CAD2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnC;;AAAA;AAAA;AAAA;AAAA;;AAIA,cAAKC,KAAL,CAAWC,MAAX,CAAkB,0BAAlB,4CAA8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACtC,sCADsC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA9C;;AAIA,cAAKC,UAAL,CAAgB,kBAAhB;AAAA,wDAAoC,kBAAOH,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAC5B,mBAASI,UAAT,CAAoBC,WAApB,CAAgCC,KAAhC,CAAsCC,IAAtC,EAD4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApC;;AAAA;AAAA;AAAA;AAAA;;AAIA,cAAKC,MAAL,CAAY,yBAAZ;AAAA,wDAAuC,kBAAOR,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACfL,YADe;;AAAA;AAC/Bc,mBAD+B;AAAA;AAAA,mBAE/BA,QAAQC,MAAR,EAF+B;;AAAA;AAAA;AAAA,mBAGX,eAAKC,OAAL,CAAa,EAAEd,MAAM,SAAR,EAAb,CAHW;;AAAA;AAG/Be,uBAH+B;;AAIrCZ,cAAEa,EAAF,CAAMD,WAAN,EAAmB,IAAnB,EAAyB,uCAAzB;;AAJqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvC;;AAAA;AAAA;AAAA;AAAA;;AAOA,cAAKJ,MAAL,CAAY,uBAAZ;AAAA,wDAAqC,kBAAOR,CAAP;AAAA;AAAA;AAAA;AAAA;AACnCA,cAAEc,IAAF;;AADmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArC;;AAAA;AAAA;AAAA;AAAA;;AAIA,cAAKN,MAAL,CAAY,iCAAZ;AAAA,wDAA+C,kBAAOR,CAAP;AAAA;AAAA;AAAA;AAAA;AAC7CA,cAAEc,IAAF;;AAD6C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA/C;;AAAA;AAAA;AAAA;AAAA;;AAIA,cAAKN,MAAL,CAAY,kCAAZ;AAAA,wDAAgD,kBAAOR,CAAP;AAAA;AAAA;AAAA;AAAA;AAC9CA,cAAEc,IAAF;;AAD8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhD;;AAAA;AAAA;AAAA;AAAA","file":"delete_test.js","sourcesContent":["import test from 'ava';\nimport mongoose from 'mongoose';\nimport User from '../../src/user';\nimport {\n  mongooseConnect,\n  mongooseDisconnect,\n} from '../test_helper';\n\nfunction createUser() {\n  const user_1 = new User({\n    name: 'newUser',\n  });\n  return user_1.save();\n}\n\ntest.before('connect to database', async (t) => {\n  await mongooseConnect('users_test');\n});\n\ntest.after.always('disconnect from database', async () => {\n  await mongooseDisconnect();\n});\n\ntest.beforeEach('drop users table', async (t) => {\n  await mongoose.connection.collections.users.drop();\n});\n\ntest.serial('model instance `remove`', async (t) => {\n  const newUser = await createUser();\n  await newUser.remove();\n  const queriedUser = await User.findOne({ name: 'newUser' });\n  t.is( queriedUser, null, 'user should be null after deleting it' );\n});\n\ntest.serial('class method `remove`', async (t) => {\n  t.pass();\n});\n\ntest.serial('class method `findOneAndRemove`', async (t) => {\n  t.pass();\n});\n\ntest.serial('class method `findByIdAndRemove`', async (t) => {\n  t.pass();\n});\n"]}