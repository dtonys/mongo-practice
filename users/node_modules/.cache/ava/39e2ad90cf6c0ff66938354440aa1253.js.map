{"version":3,"sources":["create_test.js"],"names":["before","t","console","log","start","beforeEach","db","Mongoose","connectionString","getConnectionString","connect","useMongoClient","promiseLibrary","Promise","name","modelNames","model","schema","context","deepEqual"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AAEA,cAAKA,MAAL,CAAY,cAAZ,EAA4B,MAAMC,CAAN,IAAW;AACrCC,UAAQC,GAAR,CAAY,MAAZ;AACA,QAAM,wBAAcC,KAAd,EAAN;AACD,CAHD;;AAKA,cAAKC,UAAL,CAAiB,MAAOJ,CAAP,IAAa;AAC5BC,UAAQC,GAAR,CAAY,MAAZ;AACA,QAAMG,KAAK,IAAI,mBAASC,QAAb,EAAX;AACA,QAAMC,mBAAmB,MAAM,wBAAcC,mBAAd,EAA/B;AACA,QAAMH,GAAGI,OAAH,CAAWF,gBAAX,EAA6B;AACjCG,oBAAgB,IADiB;AAEjCC,oBAAgBC;AAFiB,GAA7B,CAAN;;AAKA,OAAK,MAAMC,IAAX,IAAmB,mBAASC,UAAT,EAAnB,EAA0C;AACxCT,OAAGU,KAAH,CAASF,IAAT,EAAe,mBAASE,KAAT,CAAeF,IAAf,EAAqBG,MAApC;AACD;;AAEDhB,IAAEiB,OAAF,CAAUZ,EAAV,GAAeA,EAAf;AACD,CAdD;;AAgBA,mBAAK,6BAAL,EAAqCL,CAAD,IAAO;AACzCC,UAAQC,GAAR,CAAY,MAAZ;AACAF,IAAEkB,SAAF,CAAY,CAAC,CAAD,EAAI,CAAJ,CAAZ,EAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB,EAA4B,6BAA5B;AACD,CAHD","file":"create_test.js","sourcesContent":["import test from 'ava';\nimport mongoose from 'mongoose';\nimport { MongoDBServer } from 'mongomem';\n\ntest.before('start server', async t => {\n  console.log('1111');\n  await MongoDBServer.start();\n})\n\ntest.beforeEach( async (t) => {\n  console.log('2222');\n  const db = new mongoose.Mongoose();\n  const connectionString = await MongoDBServer.getConnectionString();\n  await db.connect(connectionString, {\n    useMongoClient: true,\n    promiseLibrary: Promise,\n  });\n\n  for (const name of mongoose.modelNames()) {\n    db.model(name, mongoose.model(name).schema);\n  }\n\n  t.context.db = db;\n});\n\ntest('Check two arrays are equal ', (t) => {\n  console.log('3333');\n  t.deepEqual([1, 2], [1, 2], ' two arrays are deep equal ');\n});"]}