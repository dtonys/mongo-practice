'use strict';

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

var _mongoose = require('mongoose');

var _mongoose2 = _interopRequireDefault(_mongoose);

var _mongomem = require('mongomem');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_ava2.default.before('start server', async t => {
  console.log('1111');
  await _mongomem.MongoDBServer.start();
});

_ava2.default.beforeEach(async t => {
  console.log('2222');
  const db = new _mongoose2.default.Mongoose();
  const connectionString = await _mongomem.MongoDBServer.getConnectionString();
  await db.connect(connectionString, {
    useMongoClient: true,
    promiseLibrary: Promise
  });

  for (const name of _mongoose2.default.modelNames()) {
    db.model(name, _mongoose2.default.model(name).schema);
  }

  t.context.db = db;
});

(0, _ava2.default)('Check two arrays are equal ', t => {
  console.log('3333');
  t.deepEqual([1, 2], [1, 2], ' two arrays are deep equal ');
});
//# sourceMappingURL=../node_modules/.cache/ava/39e2ad90cf6c0ff66938354440aa1253.js.map