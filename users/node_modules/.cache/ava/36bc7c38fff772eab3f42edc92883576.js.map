{"version":3,"sources":["create_test.js"],"names":["before","t","console","log","after","always","beforeEach","connection","collections","users","drop","serial","user_1","name","save","result","true","isNew"],"mappings":";;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAMA,cAAKA,MAAL,CAAY,qBAAZ;AAAA,uDAAmC,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AACjCC,oBAAQC,GAAR,CAAY,kCAAZ;AADiC;AAAA,mBAE3B,kCAAgB,YAAhB,CAF2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnC;;AAAA;AAAA;AAAA;AAAA;;AAKA,cAAKC,KAAL,CAAWC,MAAX,CAAkB,0BAAlB,4CAA8C;AAAA;AAAA;AAAA;AAAA;AAC5CH,kBAAQC,GAAR,CAAY,uCAAZ;AAD4C;AAAA,iBAEtC,sCAFsC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA9C;;AAKA,cAAKG,UAAL,CAAgB,kBAAhB;AAAA,wDAAoC,kBAAOL,CAAP;AAAA;AAAA;AAAA;AAAA;AAClCC,oBAAQC,GAAR,CAAY,+BAAZ;AADkC;AAAA,mBAE5B,mBAASI,UAAT,CAAoBC,WAApB,CAAgCC,KAAhC,CAAsCC,IAAtC,EAF4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApC;;AAAA;AAAA;AAAA;AAAA;;AAKA,cAAKC,MAAL,CAAY,oBAAZ;AAAA,wDAAkC,kBAAOV,CAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAChCC,oBAAQC,GAAR,CAAY,iCAAZ;AACMS,kBAF0B,GAEjB,mBAAS;AACtBC,oBAAM;AADgB,aAAT,CAFiB;AAAA;AAAA,mBAKXD,OAAOE,IAAP,EALW;;AAAA;AAK1BC,kBAL0B;;AAMhCd,cAAEe,IAAF,uBAAQ,YAAC,kDAAOC,KAAR,yBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAuB,4CAAvB;;AANgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlC;;AAAA;AAAA;AAAA;AAAA","file":"create_test.js","sourcesContent":["import test from 'ava';\nimport mongoose from 'mongoose';\nimport User from '../../src/user';\nimport {\n  mongooseConnect,\n  mongooseDisconnect,\n} from '../test_helper';\n\n\ntest.before('connect to database', async (t) => {\n  console.log('create_test::connect to database');\n  await mongooseConnect('users_test');\n});\n\ntest.after.always('disconnect from database', async () => {\n  console.log('create_test::disconnect from database');\n  await mongooseDisconnect();\n});\n\ntest.beforeEach('drop users table', async (t) => {\n  console.log('create_test::drop users table');\n  await mongoose.connection.collections.users.drop();\n});\n\ntest.serial('Create a new user ', async (t) => {\n  console.log('create_test::Create a new user ');\n  const user_1 = new User({\n    name: 'user_1',\n  });\n  const result = await user_1.save();\n  t.true( !user_1.isNew, 'user\\'s `isNew` flag is false after a save' );\n});\n\n\n"]}